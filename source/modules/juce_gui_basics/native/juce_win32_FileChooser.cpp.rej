--- modules/juce_gui_basics/native/juce_win32_FileChooser.cpp
+++ modules/juce_gui_basics/native/juce_win32_FileChooser.cpp
@@ -167,6 +167,7 @@ class Win32NativeFileChooser  : public ReferenceCountedObject,
     Atomic<HWND> nativeDialogRef;
     Atomic<int>  shouldCancel;
 
+   #if JUCE_MSVC
     bool showDialog (IFileDialog& dialog, bool async) const
     {
         FILEOPENDIALOGOPTIONS flags = {};
@@ -303,6 +304,7 @@ class Win32NativeFileChooser  : public ReferenceCountedObject,
 
         return result;
     }
+   #endif
 
     Array<URL> openDialogPreVista (bool async)
     {
@@ -412,8 +414,10 @@ class Win32NativeFileChooser  : public ReferenceCountedObject,
 
         const Remover remover (*this);
 
+       #if JUCE_MSVC
         if (SystemStats::getOperatingSystemType() >= SystemStats::WinVista)
             return openDialogVistaAndUp (async);
+       #endif
 
         return openDialogPreVista (async);
     }
